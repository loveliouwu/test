##PCIE驱动

- PCIE设备上有三种地址空间：
    PCI的I/O空间
    PCI的存储空间
    PCI的配置空间


- 配置空间
    配置空间是PCI所特有的一个物理空间，由于PCI支持设备即插即用，所以PCI设备不占用固定的内存地址空间或者I/O地址空间，而是由操作系统决定其映射的地址
    系统加电时，BOIS检测PCI总线，确定又有连接在PCI总线上的设备以及他们的配置要求并进行系统配置，所以所有的PCI设备必须实现配置空间，从而能够实现参数的自动配置，实现真正的即插即用。
    PCI总线规范定义的配置空间总长度256字节，配置信息按一定的顺序和大小依次存放，前64个字节的配置空间称为配置头，配置头的主要功能是用来识别设备、定义主机访问PCI卡的方式（I/O访问或者存储器访问，还有终端信息），其余192个字节成为本地配置空间，主要定义卡上局部总线的特性、本地空间基地址及范围。

    DMA控制状态寄存器映射于PC机根联合体之间数据的传递，对设备控制器控制是对映射于BAR0空间的DMA控制状态寄存器进行控制，当DMA传输完成之后，会发起一个硬件中断，驱动程序收到硬件中断需要在中断服务程序中清除中断标志位，二是激活等待时间对内存取数据进行处理
    